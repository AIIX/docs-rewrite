---
ID: 45775
post_title: 'Mark II Update: Revised Architecture and Prototype Phases'
author: Derick Schweppe
post_excerpt: ""
layout: post
permalink: >
  http://mycroft.ai/blog/mark-ii-update-revised-architecture/
published: true
post_date: 2019-03-22 15:22:48
---
We had to go back to the drawing board with Mark II and change several core aspects of the design, including the SoC and Microphone technology. This is always a difficult thing to do from a Design and Engineering standpoint. It is very hard to walk away from a solution that seems so close to working and one that your team has put a lot of effort into, but we know it was the right decision.

The public rarely sees the competing concepts, various prototypes, and validation stages that take place during product development. In larger organizations, competing engineering solutions are often pursued in parallel allowing the team to have a fallback in case a chosen path does not succeed. It is common to work on the subsystems separately with larger and easier to produce Printed Circuit Board Assemblies, and then later combine and miniaturize the system. This allows you to test the subsystems and ensure everything works properly in parallel. Unfortunately, we did not fully utilize those strategies at Mycroft. We chose to accelerate our development and go straight to a production form factor.

We were confident that everything would work out until we ran into a big roadblock. The display wasn’t working properly. Days turned into weeks that turned into months, and we kept thinking the breakthrough was just around the corner. At this point, we were developing on very expensive to produce pre-production hardware. When the breakthrough didn’t come, we had to make a decision. Because the display issue was deeply tied to the system design, the best decision was to switch to a new platform.

We are confident that switching to a Rockchip design will accelerate our development because Rockchip is already proven in the Smart Speaker, IoT, and hobby spaces. They also have established compatibility with a wide variety of displays. We are being very careful to avoid the pitfalls of our previous development efforts. Instead of going straight to a production design, we are going through four phases to get to a production level product. We will be sharing our progress through these four phases in more detail than we ever have before.

Phase I: Proof of Concept
Phase II: Optimized Audio Prototype
Phase III: Engineering Validation
Phase IV: Production Validation

Our Strategy going forward is to do as much validation and testing as possible with off the shelf development boards and parts before we invest in any custom design or pre-production prototypes. We know this means our early prototypes will be maybe roughly 20% <a href="https://www.theverge.com/2019/3/19/18263844/apple-iphone-prototype-m68-original-development-board-red" target="_blank" rel="noopener noreferrer">larger than the production version</a>, and they may not look exactly like the production version either. We will have to work around the limitations of the off-the-shelf hardware. Our first and foremost goal is to get the system working well, and then we will migrate to a production design.
<h2>Phase I - Proof of Concept</h2>
We are moving fast, and Phase I is already complete. This is a Proof of Concept prototype (sometimes abbreviated as POC). This was built quickly to validate the microphone design. It consists of a development board with a Rockchip SoC and a 6-microphone design, a separate class-d amplifier, a 3D printed and laser cut enclosure, and multiple power supplies. To get it all working we needed a new software image of Mycroft that took advantage of the microphone technology. Since we are a voice-first company we omitted the display in this design. This follows our new strategy of validating systems individually before combining into a fully working prototype. Hands down, concentrating on the voice interface is the most important part.

<a href="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P1.png"><img class="alignnone size-full wp-image-45784" src="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P1.png" alt="" width="1920" height="1081" /></a>
<h2>Phase II - Optimized Audio Prototype</h2>
In this next step we are continuing our focus on Voice and Audio first. This prototype includes a combined power supply system, a digitally controlled amplifier, a more advanced mechanical coupling to reduce feedback from the loudspeaker to the microphones, and all internally routed cables. We will be sharing this design with the community. The 3D printed files will be shared and all of the parts are readily available.
<h2><a href="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P2-Mic.png"><img class="alignnone size-full wp-image-45786" src="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P2-Mic.png" alt="" width="1920" height="1080" /></a></h2>
<h2><a href="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P2-Exploded.png"><img class="alignnone size-full wp-image-45785" src="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P2-Exploded.png" alt="" width="1920" height="1080" /></a>Phase III - Engineering Validation</h2>
Now we are adding the display back to the equation. This design is essentially the validated prototype from Phase II with the addition of an HDMI display and a USB controlled capacitive touchscreen. During this phase, we will continue to use off-the-shelf components. This means a lot of the internal components will be connected via USB, HDMI, 3.5mm audio connectors, and other standardized external connectors that aren’t traditionally used inside of a product. This will mean this prototype will remain larger than production and look different than the production design. For example, it is likely the top will need to completely flat to accommodate the off-the-shelf boards we are using. Just like Phase II, we will share all of the process and parts needed to create this prototype with the community.
<h2><a href="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P3.png"><img class="alignnone wp-image-45787 size-full" src="https://mycroft.ai/wp-content/uploads/2019/03/Mark-IIr_P3.png" alt="Mark II Revised Architecture Phase III Sketches" width="1920" height="1081" /></a>Phase IV - Product Validation</h2>
At this point, we will have validated all of the systems and we will now turn our attention to optimization for mass production. We may combine the main board, the amplifier board, and the power systems. We will look at replacing the bulky and expensive external style cables with Ribbon Cables, JST and FPC connectors. The most important part is that by this point in time we will be done validating the major systems and can therefore avoid the issues we had on our first version. The design will be very similar to the original Mark II.

You may be thinking that these extra phases will increase the amount of time it will take to get to production. We are confident that it will actually decrease the time in development. We learned that waiting weeks and months on expensive custom hardware before validating important systems like the Microphone and Display technologies was a poor strategy. In this multi-phase approach, we can validate everything quickly with readily available components and then move to a production design. We are thankful for your patience. More than ever, we are committed to delivering a great product and sharing the journey along the way. Stay tuned.